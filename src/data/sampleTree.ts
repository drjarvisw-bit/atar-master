import { type SkillTreeData, Subject, Topic, Difficulty } from '../types';

export const sampleSkillTree: SkillTreeData = {
  id: 'methods-calculus-2024',
  title: 'Calculus Skill Tree',
  description: 'Master differentiation from first principles to exam-level problems',
  subject: Subject.METHODS,
  year: 2024,
  totalMarks: 45,
  nodes: [
    {
      id: 'limits',
      title: 'Limits & Continuity',
      description: 'Understand limits, continuity, and the foundation of calculus.',
      prerequisites: [],
      topic: Topic.CALCULUS,
      difficulty: Difficulty.STAR_1,
      tier: 0,
      position: { x: 400, y: 60 },
      questions: [
        {
          id: 'limits-q1',
          text: 'Evaluate lim(x→2) (x² - 4)/(x - 2)',
          hints: ['Factor the numerator', 'x² - 4 = (x-2)(x+2)'],
          answer: '4',
          markingGuide: ['Factor numerator: (x-2)(x+2)/(x-2) [M1]', 'Cancel and evaluate: 2+2 = 4 [A1]'],
          marks: 2,
        },
      ],
    },
    {
      id: 'first-principles',
      title: 'Differentiation from First Principles',
      description: 'Derive derivatives using the limit definition.',
      prerequisites: ['limits'],
      topic: Topic.CALCULUS,
      difficulty: Difficulty.STAR_2,
      tier: 1,
      position: { x: 250, y: 180 },
      questions: [
        {
          id: 'fp-q1',
          text: 'Use first principles to find the derivative of f(x) = x²',
          hints: ['f\'(x) = lim(h→0) [f(x+h) - f(x)] / h', 'Expand (x+h)²'],
          answer: '2x',
          markingGuide: ['Set up limit definition [M1]', 'Expand and simplify: (2xh + h²)/h [M1]', 'Cancel h and take limit: 2x [A1]'],
          marks: 3,
        },
      ],
    },
    {
      id: 'power-rule',
      title: 'Power Rule',
      description: 'Apply the power rule for polynomial derivatives.',
      prerequisites: ['first-principles'],
      topic: Topic.CALCULUS,
      difficulty: Difficulty.STAR_2,
      tier: 1,
      position: { x: 550, y: 180 },
      questions: [
        {
          id: 'pr-q1',
          text: 'Differentiate f(x) = 3x⁴ - 2x³ + 7x - 5',
          hints: ['Apply power rule to each term', 'd/dx(xⁿ) = nxⁿ⁻¹'],
          answer: '12x³ - 6x² + 7',
          markingGuide: ['12x³ [A1]', '-6x² [A1]', '+7 [A1]'],
          marks: 3,
        },
      ],
    },
    {
      id: 'chain-rule',
      title: 'Chain Rule',
      description: 'Differentiate composite functions using the chain rule.',
      prerequisites: ['power-rule'],
      topic: Topic.CALCULUS,
      difficulty: Difficulty.STAR_3,
      tier: 2,
      position: { x: 400, y: 300 },
      questions: [
        {
          id: 'cr-q1',
          text: 'Differentiate f(x) = (2x + 3)⁵',
          hints: ['Let u = 2x + 3', 'dy/dx = dy/du × du/dx'],
          answer: '10(2x + 3)⁴',
          markingGuide: ['Identify inner function u = 2x+3, du/dx = 2 [M1]', 'Apply chain rule: 5(2x+3)⁴ × 2 [M1]', 'Simplify: 10(2x+3)⁴ [A1]'],
          marks: 3,
        },
      ],
    },
    {
      id: 'product-rule',
      title: 'Product Rule',
      description: 'Differentiate products of functions.',
      prerequisites: ['power-rule'],
      topic: Topic.CALCULUS,
      difficulty: Difficulty.STAR_3,
      tier: 2,
      position: { x: 250, y: 420 },
      questions: [],
    },
    {
      id: 'quotient-rule',
      title: 'Quotient Rule',
      description: 'Differentiate quotients of functions.',
      prerequisites: ['product-rule', 'chain-rule'],
      topic: Topic.CALCULUS,
      difficulty: Difficulty.STAR_3,
      tier: 2,
      position: { x: 550, y: 420 },
      questions: [],
    },
    {
      id: 'exam-2023-q3',
      title: '2023 Exam 1 Q3',
      description: 'VCE Methods 2023 Exam 1, Question 3 — Differentiation application.',
      prerequisites: ['chain-rule', 'product-rule'],
      topic: Topic.CALCULUS,
      difficulty: Difficulty.STAR_4,
      tier: 3,
      position: { x: 400, y: 540 },
      questions: [
        {
          id: 'exam-2023-q3-main',
          text: 'Let f(x) = x²·e^(−x). Find f\'(x) and determine the coordinates of any stationary points.',
          hints: ['Use the product rule', 'Set f\'(x) = 0 and solve'],
          answer: 'f\'(x) = xe^(−x)(2 − x). Stationary points at (0, 0) and (2, 4e⁻²).',
          markingGuide: [
            'Product rule: f\'(x) = 2x·e^(−x) + x²·(−e^(−x)) [M1]',
            'Factor: xe^(−x)(2 − x) [A1]',
            'Set = 0: x = 0 or x = 2 [M1]',
            'Coordinates: (0,0) and (2, 4e⁻²) [A1]',
          ],
          marks: 4,
        },
      ],
      isExamQuestion: true,
      examRef: {
        examId: 'methods-2023-exam1',
        year: 2023,
        subject: Subject.METHODS,
        questionNumber: '3',
        marks: 4,
      },
    },
  ],
};
